[{"E:\\web\\第四阶段\\项目\\Umusic\\u-musica\\src\\index.js":"1","E:\\web\\第四阶段\\项目\\Umusic\\u-musica\\src\\pages\\play.js":"2","E:\\web\\第四阶段\\项目\\Umusic\\u-musica\\src\\pages\\index.js":"3","E:\\web\\第四阶段\\项目\\Umusic\\u-musica\\src\\views\\home\\index.js":"4","E:\\web\\第四阶段\\项目\\Umusic\\u-musica\\src\\views\\search\\index.js":"5","E:\\web\\第四阶段\\项目\\Umusic\\u-musica\\src\\views\\rank\\index.js":"6","E:\\web\\第四阶段\\项目\\Umusic\\u-musica\\src\\App.js":"7","E:\\web\\第四阶段\\项目\\Umusic\\u-musica\\src\\util\\axios\\axios.js":"8","E:\\web\\第四阶段\\项目\\Umusic\\u-musica\\src\\util\\axios\\index.js":"9","E:\\web\\第四阶段\\项目\\Umusic\\u-musica\\src\\assets\\js\\rem.js":"10","E:\\web\\第四阶段\\项目\\Umusic\\u-musica\\src\\pages\\list.js":"11"},{"size":725,"mtime":1606390988613,"results":"12","hashOfConfig":"13"},{"size":7618,"mtime":1606400648822,"results":"14","hashOfConfig":"13"},{"size":1525,"mtime":1606311999796,"results":"15","hashOfConfig":"13"},{"size":5674,"mtime":1606400490090,"results":"16","hashOfConfig":"13"},{"size":3734,"mtime":1606399089662,"results":"17","hashOfConfig":"13"},{"size":2882,"mtime":1606394141630,"results":"18","hashOfConfig":"13"},{"size":672,"mtime":1606132253491,"results":"19","hashOfConfig":"13"},{"size":561,"mtime":1606307185896,"results":"20","hashOfConfig":"13"},{"size":1294,"mtime":1606400195078,"results":"21","hashOfConfig":"13"},{"size":417,"mtime":1606389755247,"results":"22","hashOfConfig":"13"},{"size":2521,"mtime":1606400596437,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"oe7w6w",{"filePath":"27","messages":"28","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32","usedDeprecatedRules":"26"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"35","messages":"36","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"37","messages":"38","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":2,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"48"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"E:\\web\\第四阶段\\项目\\Umusic\\u-musica\\src\\index.js",[],["51","52"],"E:\\web\\第四阶段\\项目\\Umusic\\u-musica\\src\\pages\\play.js",["53","54"],"import react from \"react\";\r\nimport qsString from \"querystring\";\r\nimport axios from \"axios\";\r\nimport $ from \"jquery\";\r\nimport \"../assets/css/play.css\";\r\nimport { playUrl, getLyric, songDetail } from \"../util/axios\";\r\nimport Img from \"../assets/img/needle-ip6.png\";\r\n\r\nclass play extends react.Component {\r\n  constructor () {\r\n    super();\r\n    this.state = {\r\n      img: Img,\r\n      songUrl: \"\",\r\n      songDetail: {},\r\n      lyric: \"\",\r\n      playTime: \"00:00\",\r\n      flag: false,\r\n    };\r\n    //创建一个播放器的ref\r\n    this.audio = react.createRef();\r\n    //创建一个播放图表的ref\r\n    this.playIcon = react.createRef();\r\n  }\r\n  componentDidMount () {\r\n    let query = this.props.location.search.slice(1);\r\n    //axios并发处理\r\n    axios\r\n      .all([\r\n        playUrl({\r\n          id: qsString.parse(query).id,\r\n        }),\r\n        getLyric({\r\n          id: qsString.parse(query).id,\r\n        }),\r\n        songDetail({\r\n          ids: qsString.parse(query).id,\r\n        }),\r\n      ])\r\n      .then(\r\n        axios.spread((songUrl, lyric, songDetail) => {\r\n          console.log(songUrl, \"songUrl\");\r\n          console.log(lyric, \"lyric\");\r\n          console.log(songDetail, \"songDetail\");\r\n          if (songUrl.code === 200) {\r\n            this.setState({\r\n              songUrl: songUrl.data[0].url,\r\n            });\r\n          }\r\n          if (lyric.code === 200) {\r\n            /* \r\n              歌词字符串：\r\n              \"[00:00.000] 作词 : 小克  [00:00.780] 作曲 : 林家谦\"\r\n              我想要的形式是：\r\n              00：00 作词 : 小克 \r\n              {\r\n                 \"00：00\"：作词 : 小克 ,\r\n                 \"00:00\": 作曲 : 林家谦\r\n              }\r\n\r\n              */\r\n            let lyricInfo = \"\";\r\n            //   let lyric = lyric.lrc.lyric\r\n            lyricInfo = lyric.lrc.lyric;\r\n            //设定一个正则 取出 []\r\n            let reg = /\\[(.*?)](.*)/g;\r\n            //设定一空对象\r\n            let obj = {};\r\n            //替换 replace\r\n            lyricInfo.replace(reg, (a, b, c) => {\r\n              //[00:00.000] 作词 : 小克 aaaaaaa\r\n              //00:00.000 bbbbbb\r\n              //作词 : 小克 cccccc\r\n              // console.log(a,'aaaaaaa')\r\n              // console.log(b,'bbbbbb')\r\n              // console.log(c,'cccccc')\r\n              b = b.slice(0, 5);\r\n              obj[b] = c;\r\n            });\r\n            this.setState(\r\n              {\r\n                lyric: obj,\r\n              },\r\n              () => {\r\n                //实时监听播放器的变化 ontimeupdate属性\r\n                console.log(this.audio.current, \"audioDOM\");\r\n                let audio = this.audio.current;\r\n                audio.ontimeupdate = () => {\r\n                  //我想要00：00\r\n                  // console.log(audio.currentTime,'我被监控')\r\n                  let nowTime = this.formateTime(audio.currentTime);\r\n                  //   console.log(this.state.lyric,'this.state.lyric')\r\n                  //剔除掉没有歌词的播放器时间\r\n                  if (nowTime in this.state.lyric) {\r\n                    // console.log(nowTime, \"匹配到的啊啊啊啊啊\");\r\n                    //去设置播放时间\r\n                    this.setState(\r\n                      {\r\n                        playTime: nowTime,\r\n                      },\r\n                      () => {\r\n                        //调取歌词滚动的方法\r\n                        this.moveLyric();\r\n                        // console.log(this.state.playTime, \"匹配到的播放器时间\");\r\n                      }\r\n                    );\r\n                  }\r\n                };\r\n              }\r\n            );\r\n            console.log(obj, \"整合之后的对象\");\r\n            // this.setState({\r\n            //   lyric: lyric.lrc.lyric,\r\n            // });\r\n          }\r\n          if (songDetail.code === 200) {\r\n            this.setState({\r\n              songDetail: songDetail.songs[0],\r\n            });\r\n          }\r\n        })\r\n      );\r\n  }\r\n\r\n  //封装一个事件格式化的方法\r\n  formateTime (timer) {\r\n    let minutes = (Math.floor(timer / 60) + \"\").padStart(2, \"0\");\r\n    let seconds = (Math.floor(timer % 60) + \"\").padStart(2, \"0\");\r\n    return `${minutes}:${seconds}`;\r\n  }\r\n  //歌词滚动\r\n  moveLyric () {\r\n    /* \r\n      一、知道那一句歌词是高亮\r\n      二、查找高亮所有在位置\r\n      三、比较 offsetTop \r\n      四、发现上移改变translateY\r\n       */\r\n    let active = document.getElementsByClassName(\"active\")[0];\r\n    let index = $(\".geci_box\").children().index(active);\r\n    let offSet = 31;\r\n    if (active.offsetTop > 31) {\r\n      console.log(\"位置发生变化1111\");\r\n      //更改它位置\r\n      $(\".geci_box\").css(\"transform\", `translateY(-${index * offSet}px)`);\r\n    }\r\n    //   console.log(index,'位置')\r\n  }\r\n  //创建一个播放事件\r\n  toPlay () {\r\n    this.setState(\r\n      {\r\n        flag: !this.state.flag,\r\n      },\r\n      () => {\r\n        if (this.state.flag) {\r\n          //如果flag是真 代表暂停 出现图标 ，音乐停止\r\n          this.playIcon.current.style.display = \"block\";\r\n          this.audio.current.pause();\r\n        } else {\r\n          //如果flag是假 代表播放 没有图标 ，音乐正在播放\r\n          this.playIcon.current.style.display = \"none\";\r\n          this.audio.current.play();\r\n        }\r\n      }\r\n    );\r\n  }\r\n  render () {\r\n    const { songUrl, songDetail, lyric, img, playTime } = this.state;\r\n    return (\r\n      <div className=\"play\">\r\n        <div className=\"play_top\">\r\n          <img src={img} />\r\n        </div>\r\n        <div className=\"play_img_all\" onClick={this.toPlay.bind(this)}>\r\n          <i ref={this.playIcon} className=\"play_icon\"></i>\r\n          <div className=\"play_img_box\">\r\n            <div className=\"small_img\">\r\n              <img\r\n                src={\r\n                  songDetail.al\r\n                    ? songDetail.al.picUrl\r\n                    : \"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1606381386769&di=b313b7d9646d226c4778d7aa229b9e4c&imgtype=0&src=http%3A%2F%2Fwx1.sinaimg.cn%2Fmw690%2F006qOO1Xly1gc7b7lbabxj32dc2dce27.jpg\"\r\n                }\r\n                alt=\"\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"play_txt\">\r\n          <div className=\"play_txt_name\">\r\n            <span>{songDetail.name}</span>-\r\n            {songDetail.ar\r\n              ? songDetail.ar.map((arInfo) => {\r\n                return <span key={arInfo.id}>{arInfo.name}</span>;\r\n              })\r\n              : \"\"}\r\n          </div>\r\n          <div className=\"play_txt_geci\">\r\n            <div className=\"geci_box\">\r\n              {\r\n                //把对象转化成数组去循环  Object.entries把对象转化成枚举型的数组，类似于for in\r\n                Object.entries(lyric).map((item, idx) => {\r\n                  //   console.log(item,'每一项啊啊啊')\r\n                  if (playTime == item[0]) {\r\n                    return (\r\n                      <p key={idx} className=\"active\">\r\n                        {item[1]}\r\n                      </p>\r\n                    );\r\n                  } else {\r\n                    return <p key={idx}>{item[1]}</p>;\r\n                  }\r\n                })\r\n              }\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"audio_box\">\r\n          <audio ref={this.audio} src={songUrl} autoPlay></audio>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default play;\r\n","E:\\web\\第四阶段\\项目\\Umusic\\u-musica\\src\\pages\\index.js",["55"],"import React from 'react';\r\n// 引入样式\r\nimport '../assets/css/index.css'\r\n// 引入二级路由\r\nimport Recommend from '../views/home'\r\nimport Rank from '../views/rank'\r\nimport Search from '../views/search'\r\n// 引入路由相关属性\r\nimport { Switch, Route, Redirect, NavLink } from 'react-router-dom';\r\nimport imgUrl from '../assets/img/logo.png'\r\nclass Home extends React.Component {\r\n  render () {\r\n    return (\r\n      <div className='index'>\r\n        <div className=\"fix\">\r\n          {/* 顶部导航 */}\r\n          <div className='navTitle'>\r\n            <img className=\"img\" src={imgUrl}></img>\r\n            <p className=\"p\">U音乐</p>\r\n            <div className=\"topRigth\">\r\n              <span className=\"load\">下载APP</span>\r\n            </div>\r\n          </div>\r\n          {/* 导航链接 */}\r\n          <div className='navBar'>\r\n            <NavLink activeClassName='active' to='/index/recommend'>推荐音乐</NavLink>\r\n            <NavLink activeClassName='active' to='/index/rank'>排行榜</NavLink>\r\n            <NavLink activeClassName='active' to='/index/search'>搜索</NavLink>\r\n          </div>\r\n        </div>\r\n        {/* 二级路由出口 */}\r\n        <Switch>\r\n          <Route path=\"/index/recommend\" component={Recommend}></Route>\r\n          <Route path=\"/index/rank\" component={Rank}></Route>\r\n          <Route path=\"/index/search\" component={Search}></Route>\r\n          <Redirect to=\"/index/recommend\"></Redirect>\r\n        </Switch>\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default Home","E:\\web\\第四阶段\\项目\\Umusic\\u-musica\\src\\views\\home\\index.js",["56","57","58","59","60","61","62","63"],"E:\\web\\第四阶段\\项目\\Umusic\\u-musica\\src\\views\\search\\index.js",["64","65","66","67","68","69","70"],"E:\\web\\第四阶段\\项目\\Umusic\\u-musica\\src\\views\\rank\\index.js",["71","72","73"],"E:\\web\\第四阶段\\项目\\Umusic\\u-musica\\src\\App.js",[],"E:\\web\\第四阶段\\项目\\Umusic\\u-musica\\src\\util\\axios\\axios.js",[],"E:\\web\\第四阶段\\项目\\Umusic\\u-musica\\src\\util\\axios\\index.js",[],"E:\\web\\第四阶段\\项目\\Umusic\\u-musica\\src\\assets\\js\\rem.js",["74","75"],"!function(n){\r\n    var  e=n.document,\r\n         t=e.documentElement,\r\n         i=720,\r\n         d=i/100,\r\n         o=\"orientationchange\"in n?\"orientationchange\":\"resize\",\r\n         a=function(){\r\n             var n=t.clientWidth||375;n>750&&(n=750);\r\n             t.style.fontSize=n/d+\"px\"\r\n         };\r\n         e.addEventListener&&(n.addEventListener(o,a,!1),e.addEventListener(\"DOMContentLoaded\",a,!1))\r\n}(window);",["76","77"],"E:\\web\\第四阶段\\项目\\Umusic\\u-musica\\src\\pages\\list.js",["78","79","80"],{"ruleId":"81","replacedBy":"82"},{"ruleId":"83","replacedBy":"84"},{"ruleId":"85","severity":1,"message":"86","line":173,"column":11,"nodeType":"87","endLine":173,"endColumn":28},{"ruleId":"88","severity":1,"message":"89","line":205,"column":32,"nodeType":"90","messageId":"91","endLine":205,"endColumn":34},{"ruleId":"85","severity":1,"message":"86","line":18,"column":13,"nodeType":"87","endLine":18,"endColumn":47},{"ruleId":"92","severity":1,"message":"93","line":11,"column":10,"nodeType":"94","messageId":"95","endLine":11,"endColumn":17},{"ruleId":"88","severity":1,"message":"89","line":29,"column":27,"nodeType":"90","messageId":"91","endLine":29,"endColumn":29},{"ruleId":"88","severity":1,"message":"89","line":34,"column":26,"nodeType":"90","messageId":"91","endLine":34,"endColumn":28},{"ruleId":"88","severity":1,"message":"89","line":39,"column":25,"nodeType":"90","messageId":"91","endLine":39,"endColumn":27},{"ruleId":"92","severity":1,"message":"96","line":45,"column":17,"nodeType":"94","messageId":"95","endLine":45,"endColumn":23},{"ruleId":"85","severity":1,"message":"86","line":104,"column":21,"nodeType":"87","endLine":104,"endColumn":48},{"ruleId":"97","severity":1,"message":"98","line":139,"column":17,"nodeType":"87","endLine":139,"endColumn":63},{"ruleId":"85","severity":1,"message":"86","line":172,"column":17,"nodeType":"87","endLine":172,"endColumn":36},{"ruleId":"92","severity":1,"message":"93","line":3,"column":10,"nodeType":"94","messageId":"95","endLine":3,"endColumn":17},{"ruleId":"88","severity":1,"message":"89","line":24,"column":20,"nodeType":"90","messageId":"91","endLine":24,"endColumn":22},{"ruleId":"88","severity":1,"message":"99","line":51,"column":44,"nodeType":"90","messageId":"91","endLine":51,"endColumn":46},{"ruleId":"88","severity":1,"message":"99","line":57,"column":24,"nodeType":"90","messageId":"91","endLine":57,"endColumn":26},{"ruleId":"92","severity":1,"message":"100","line":76,"column":22,"nodeType":"94","messageId":"95","endLine":76,"endColumn":25},{"ruleId":"101","severity":1,"message":"102","line":103,"column":13,"nodeType":"103","endLine":103,"endColumn":50},{"ruleId":"88","severity":1,"message":"89","line":110,"column":26,"nodeType":"90","messageId":"91","endLine":110,"endColumn":28},{"ruleId":"92","severity":1,"message":"93","line":5,"column":10,"nodeType":"94","messageId":"95","endLine":5,"endColumn":17},{"ruleId":"88","severity":1,"message":"89","line":35,"column":22,"nodeType":"90","messageId":"91","endLine":35,"endColumn":24},{"ruleId":"97","severity":1,"message":"104","line":62,"column":21,"nodeType":"87","endLine":62,"endColumn":101},{"ruleId":"105","severity":2,"message":"106","line":1,"column":1,"nodeType":"107","messageId":"108","endLine":12,"endColumn":11},{"ruleId":"105","severity":2,"message":"106","line":11,"column":10,"nodeType":"107","messageId":"108","endLine":11,"endColumn":102},{"ruleId":"81","replacedBy":"109"},{"ruleId":"83","replacedBy":"110"},{"ruleId":"88","severity":1,"message":"89","line":25,"column":20,"nodeType":"90","messageId":"91","endLine":25,"endColumn":22},{"ruleId":"85","severity":1,"message":"86","line":43,"column":13,"nodeType":"87","endLine":43,"endColumn":45},{"ruleId":"85","severity":1,"message":"86","line":48,"column":15,"nodeType":"87","endLine":48,"endColumn":77},"no-native-reassign",["111"],"no-negated-in-lhs",["112"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-unused-vars","'NavLink' is defined but never used.","Identifier","unusedVar","'swiper' is assigned a value but never used.","jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","Expected '!==' and instead saw '!='.","'val' is assigned a value but never used.","react/jsx-no-duplicate-props","No duplicate props allowed","JSXAttribute","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","no-unused-expressions","Expected an assignment or function call and instead saw an expression.","ExpressionStatement","unusedExpression",["111"],["112"],"no-global-assign","no-unsafe-negation"]